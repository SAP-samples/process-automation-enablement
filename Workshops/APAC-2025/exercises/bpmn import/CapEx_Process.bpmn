<?xml version="1.0" encoding="UTF-8"?>
<definitions targetNamespace="http://effektif.com/bpmn20" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC" xmlns:omgdi="http://www.omg.org/spec/DD/20100524/DI" xmlns:e="http://effektif.com/bpmn20" xmlns:signavio="http://www.signavio.com" xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL">
  <process isClosed="false" isExecutable="true" processType="None" name="CapEx_Process" id="CapExApproval">
    <extensionElements>
      <signavio:signavioDiagramMetaData metaKey="revisionid" metaValue="50a9e245b18b4ff2b82e8aca5a56e888"/>
      <e:enableCases value="false"/>
      <e:trigger type="form">
        <e:form/>
      </e:trigger>
      <e:form>
        <e:field id="syeelaku7ybp34fzgp" readonly="true" expression="syeela5g8ca47bhwau"/>
        <e:field id="syew1sksyrkvmifq2p" readonly="true" expression="syew1s23jfdvil1t6q"/>
      </e:form>
      <e:variable id="syd0n0p05g1aj57e73" isManualDecision="true" name="Decision">
        <e:type name="choice">
          <e:option id="syd0n0xurve3g1dfqn" name="Approve" deleted="false"/>
          <e:option id="syd0n08lsrspvqurcf" name="Rework" deleted="false"/>
        </e:type>
      </e:variable>
      <e:variable id="syd0odrsrz5w6pyf0x" isManualDecision="true" name="Decision">
        <e:type name="choice">
          <e:option id="syd0odxvpddsna4b0" name="Approve" deleted="false"/>
          <e:option id="syd0odxdml2wz2cuvr" name="Rework" deleted="false"/>
        </e:type>
      </e:variable>
      <e:variable id="syeei6s1ai5x7a79t0" isManualDecision="true" name="Decision">
        <e:type name="choice">
          <e:option id="syeei6celbnbwg4aao" name="Approve" deleted="false"/>
          <e:option id="syeei68kxy19i52f66" name="Rework" deleted="false"/>
        </e:type>
      </e:variable>
      <e:variable id="syeela5g8ca47bhwau" name="totalProcurementCost">
        <e:type name="number"/>
      </e:variable>
      <e:variable id="syew1s23jfdvil1t6q" name="taxAmount">
        <e:type name="number"/>
      </e:variable>
      <e:property key="bpmnId" value="CapExApproval" type="java.lang.String"/>
    </extensionElements>
    <startEvent isInterrupting="true" id="StartEvent" name="Initiate CapEx Request">
      <extensionElements>
        <signavio:signavioMetaData metaKey="bgcolor" metaValue="#ffffff"/>
        <signavio:signavioMetaData metaKey="bordercolor" metaValue="#000000"/>
      </extensionElements>
    </startEvent>
    <exclusiveGateway id="syd0iy3onsy3bgafjl" name="" e:decisionType="manual"/>
    <exclusiveGateway id="syd0nran7tmbl17xps" name="" e:decisionType="manual"/>
    <exclusiveGateway id="syeehma42i4v22up52" name="" e:decisionType="manual"/>
    <exclusiveGateway id="syew4yy17qbm6ndnbw" e:defaultTransitionId="syew5z3xdc68g6rfgy" name="Check total cost" e:decisionType="auto"/>
    <scriptTask id="_685a93de989af7fc74291b9b" name="Calculate Total Price of Items" retry="true">
      <extensionElements>
        <e:script><![CDATA[totalProcurementCost = 0;

for (var i = 0; i < createRequest.items.length; i++) {
    totalProcurementCost += createRequest.items[i].cost;
}

taxAmount = totalProcurementCost * 0.05;

totalProcurementCost += taxAmount;]]></e:script>
        <e:mapping scriptVariableName="totalProcurementCost" workflowVariableId="syeela5g8ca47bhwau"/>
        <e:mapping scriptVariableName="taxAmount" workflowVariableId="syew1s23jfdvil1t6q"/>
      </extensionElements>
    </scriptTask>
    <sendTask e:type="email" id="_685a93de989af7fc74291b9e" name="CapEx Approval Status Mail">
      <extensionElements>
        <e:subject>CapEx Approval Status </e:subject>
        <e:bodyText>Dear {Sender},

Your CapEx is approved.

This is an autogenerated email, do not reply .
</e:bodyText>
      </extensionElements>
    </sendTask>
    <sequenceFlow name="" id="sid-489DEC44-9A51-4BF4-86E5-11D4DB22ED06" sourceRef="StartEvent" targetRef="DeptCreateRequest">
      <extensionElements>
        <signavio:signavioMetaData metaKey="bordercolor" metaValue="#000000"/>
      </extensionElements>
    </sequenceFlow>
    <sequenceFlow id="_685a93de989af7fc74291ba4" sourceRef="_685a93de989af7fc74291b9b" targetRef="_685a93de989af7fc74291b9d"/>
    <sequenceFlow id="_685a93de989af7fc74291ba7" sourceRef="_685a93de989af7fc74291b9e" targetRef="EndEvent"/>
    <sequenceFlow id="syd0j5yegaoipgnqsy" sourceRef="FinanceReview" targetRef="syd0iy3onsy3bgafjl"/>
    <sequenceFlow id="syd0n0fr0d4q6fv811" sourceRef="syd0iy3onsy3bgafjl" targetRef="DeptCreateRequest">
      <extensionElements>
        <e:condition>
          <e:equals>
            <e:left expression="syd0n0p05g1aj57e73"/>
            <e:right value="syd0n08lsrspvqurcf">
              <e:type name="choice">
                <e:option id="syd0n0xurve3g1dfqn" name="Approve" deleted="false"/>
                <e:option id="syd0n08lsrspvqurcf" name="Rework" deleted="false"/>
              </e:type>
            </e:right>
          </e:equals>
        </e:condition>
      </extensionElements>
    </sequenceFlow>
    <sequenceFlow id="syd0nuyyofo2z9u45y" sourceRef="CEOApproval" targetRef="syd0nran7tmbl17xps"/>
    <sequenceFlow id="syd0nu2qx4wh2xvq54" sourceRef="syd0nran7tmbl17xps" targetRef="_685a93de989af7fc74291b9e">
      <extensionElements>
        <e:condition>
          <e:equals>
            <e:left expression="syd0odrsrz5w6pyf0x"/>
            <e:right value="syd0odxvpddsna4b0">
              <e:type name="choice">
                <e:option id="syd0odxvpddsna4b0" name="Approve" deleted="false"/>
                <e:option id="syd0odxdml2wz2cuvr" name="Rework" deleted="false"/>
              </e:type>
            </e:right>
          </e:equals>
        </e:condition>
      </extensionElements>
    </sequenceFlow>
    <sequenceFlow id="syd0ojxk5xnhtnr9ue" sourceRef="syd0nran7tmbl17xps" targetRef="DeptCreateRequest">
      <extensionElements>
        <e:condition>
          <e:equals>
            <e:left expression="syd0odrsrz5w6pyf0x"/>
            <e:right value="syd0odxdml2wz2cuvr">
              <e:type name="choice">
                <e:option id="syd0odxvpddsna4b0" name="Approve" deleted="false"/>
                <e:option id="syd0odxdml2wz2cuvr" name="Rework" deleted="false"/>
              </e:type>
            </e:right>
          </e:equals>
        </e:condition>
      </extensionElements>
    </sequenceFlow>
    <sequenceFlow id="syeeggd2xrwx80472i" sourceRef="_685a93de989af7fc74291b9d" targetRef="syeefdw2cm70r392zq"/>
    <sequenceFlow id="syeehqxaz1j7hdob8" sourceRef="syeefdw2cm70r392zq" targetRef="syeehma42i4v22up52"/>
    <sequenceFlow id="syeehqilxnqt24fuji" sourceRef="syeehma42i4v22up52" targetRef="FinanceReview">
      <extensionElements>
        <e:condition>
          <e:equals>
            <e:left expression="syeei6s1ai5x7a79t0"/>
            <e:right value="syeei6celbnbwg4aao">
              <e:type name="choice">
                <e:option id="syeei6celbnbwg4aao" name="Approve" deleted="false"/>
                <e:option id="syeei68kxy19i52f66" name="Rework" deleted="false"/>
              </e:type>
            </e:right>
          </e:equals>
        </e:condition>
      </extensionElements>
    </sequenceFlow>
    <sequenceFlow id="syeei6vxrntpix99dn" sourceRef="syeehma42i4v22up52" targetRef="DeptCreateRequest">
      <extensionElements>
        <e:condition>
          <e:equals>
            <e:left expression="syeei6s1ai5x7a79t0"/>
            <e:right value="syeei68kxy19i52f66">
              <e:type name="choice">
                <e:option id="syeei6celbnbwg4aao" name="Approve" deleted="false"/>
                <e:option id="syeei68kxy19i52f66" name="Rework" deleted="false"/>
              </e:type>
            </e:right>
          </e:equals>
        </e:condition>
      </extensionElements>
    </sequenceFlow>
    <sequenceFlow id="syevgdjer53o20eiam" sourceRef="DeptCreateRequest" targetRef="_685a93de989af7fc74291b9b"/>
    <sequenceFlow id="syew54e51vp8e5sq7m" sourceRef="syd0iy3onsy3bgafjl" targetRef="syew4yy17qbm6ndnbw">
      <extensionElements>
        <e:condition>
          <e:equals>
            <e:left expression="syd0n0p05g1aj57e73"/>
            <e:right value="syd0n0xurve3g1dfqn">
              <e:type name="choice">
                <e:option id="syd0n0xurve3g1dfqn" name="Approve" deleted="false"/>
                <e:option id="syd0n08lsrspvqurcf" name="Rework" deleted="false"/>
              </e:type>
            </e:right>
          </e:equals>
        </e:condition>
      </extensionElements>
    </sequenceFlow>
    <sequenceFlow id="syew5si5dd1vjfyu" sourceRef="syew4yy17qbm6ndnbw" targetRef="CEOApproval">
      <extensionElements>
        <e:condition>
          <e:and>
            <e:greaterThanOrEqual>
              <e:left expression="syeela5g8ca47bhwau"/>
              <e:right value="10000">
                <e:type name="number"/>
              </e:right>
            </e:greaterThanOrEqual>
          </e:and>
        </e:condition>
      </extensionElements>
    </sequenceFlow>
    <sequenceFlow id="syew5z3xdc68g6rfgy" sourceRef="syew4yy17qbm6ndnbw" targetRef="_685a93de989af7fc74291b9e">
      <extensionElements>
        <e:condition>
          <e:and/>
        </e:condition>
      </extensionElements>
    </sequenceFlow>
    <subProcess id="_685a93de989af7fc74291b9d" name="Get Procurement Approver"/>
    <userTask completionQuantity="1" isForCompensation="false" startQuantity="1" id="DeptCreateRequest" name="Create Request">
      <extensionElements>
        <signavio:signavioMetaData metaKey="bgcolor" metaValue="#ffffcc"/>
        <signavio:signavioMetaData metaKey="bordercolor" metaValue="#000000"/>
        <e:form/>
      </extensionElements>
    </userTask>
    <userTask completionQuantity="1" isForCompensation="false" startQuantity="1" id="FinanceReview" name="Finance Review">
      <extensionElements>
        <signavio:signavioMetaData metaKey="bgcolor" metaValue="#ffffcc"/>
        <signavio:signavioMetaData metaKey="bordercolor" metaValue="#000000"/>
        <e:form>
          <e:field id="syd0n0ff030yctx6gs" asButtons="true" expression="syd0n0p05g1aj57e73"/>
        </e:form>
      </extensionElements>
    </userTask>
    <userTask completionQuantity="1" isForCompensation="false" startQuantity="1" id="CEOApproval" name="CEO Approval">
      <extensionElements>
        <signavio:signavioMetaData metaKey="bgcolor" metaValue="#ffffcc"/>
        <signavio:signavioMetaData metaKey="bordercolor" metaValue="#000000"/>
        <e:form>
          <e:field id="syd0odijob5pqccyhp" asButtons="true" expression="syd0odrsrz5w6pyf0x"/>
        </e:form>
      </extensionElements>
    </userTask>
    <userTask id="syeefdw2cm70r392zq" name="Procurement Review">
      <extensionElements>
        <e:form>
          <e:field id="syeei6try814g5xcb3" asButtons="true" expression="syeei6s1ai5x7a79t0"/>
        </e:form>
      </extensionElements>
    </userTask>
    <endEvent id="EndEvent" name="End">
      <extensionElements>
        <signavio:signavioMetaData metaKey="bgcolor" metaValue="#ffffff"/>
        <signavio:signavioMetaData metaKey="bordercolor" metaValue="#000000"/>
      </extensionElements>
    </endEvent>
  </process>
  <bpmndi:BPMNDiagram name="CapEx_Process">
    <bpmndi:BPMNPlane bpmnElement="CapExApproval">
      <bpmndi:BPMNShape id="_685a93de989af7fc74291ba9" bpmnElement="StartEvent">
        <omgdc:Bounds height="30.0" width="30.0" x="223.00001969933066" y="50.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="_685a93de989af7fc74291baa" bpmnElement="DeptCreateRequest">
        <omgdc:Bounds height="60.0" width="100.0" x="188.00001969933066" y="125.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="_685a93de989af7fc74291bac" bpmnElement="FinanceReview">
        <omgdc:Bounds height="60.0" width="120.0" x="188.0" y="709.99994435907"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="_685a93de989af7fc74291bad" bpmnElement="CEOApproval">
        <omgdc:Bounds height="60.0" width="100.0" x="327.00012011824504" y="969.000017061828"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="_685a93de989af7fc74291bae" bpmnElement="EndEvent">
        <omgdc:Bounds height="28.0" width="28.0" x="248.0001000910862" y="1218.0000536292766"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="_685a93de989af7fc74291baf" bpmnElement="_685a93de989af7fc74291b9b">
        <omgdc:Bounds height="80.0" width="100.0" x="190.00010426341032" y="239.99997560680163"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="_685a93de989af7fc74291bb1" bpmnElement="_685a93de989af7fc74291b9d" isExpanded="false">
        <omgdc:Bounds height="80.0" width="100.0" x="190.00001196563016" y="364.9999609142583"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="_685a93de989af7fc74291bb2" bpmnElement="_685a93de989af7fc74291b9e">
        <omgdc:Bounds height="80.0" width="100.0" x="212.000100627528" y="1093.0000313669423"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="syd0iy2ft3yx9g85b7" bpmnElement="syd0iy3onsy3bgafjl">
        <omgdc:Bounds height="40.0" width="40.0" x="228.0" y="814.99992623926"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="syd0nrvf8mk971i53v" bpmnElement="syd0nran7tmbl17xps">
        <omgdc:Bounds height="40.0" width="40.0" x="357.00010628996824" y="1073.9999950826164"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="syeefdy0u3tb6gojnw" bpmnElement="syeefdw2cm70r392zq">
        <omgdc:Bounds height="80.0" width="100.0" x="190.00010426341032" y="489.9999609142583"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="syeehm4kpxt2yzsb61" bpmnElement="syeehma42i4v22up52">
        <omgdc:Bounds height="40.0" width="40.0" x="228.0" y="614.9999609142583"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="syew4y73oe7d468fbv" bpmnElement="syew4yy17qbm6ndnbw">
        <omgdc:Bounds height="40.0" width="40.0" x="234.99983982743504" y="884.000017061828"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="_685a93de989af7fc74291bb3" bpmnElement="sid-489DEC44-9A51-4BF4-86E5-11D4DB22ED06">
        <omgdi:waypoint x="238.2000818103486" y="65.99999998509884"/>
        <omgdi:waypoint x="238.00001969933066" y="155.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="_685a93de989af7fc74291bb8" bpmnElement="_685a93de989af7fc74291ba4">
        <omgdi:waypoint x="240.00010426341032" y="279.9999756068016"/>
        <omgdi:waypoint x="240.00001196563016" y="404.9999609142583"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="_685a93de989af7fc74291bbb" bpmnElement="_685a93de989af7fc74291ba7">
        <omgdi:waypoint x="262.000100627528" y="1133.0000313669423"/>
        <omgdi:waypoint x="262.0001000910862" y="1232.0000536292766"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="shape-syd0j5yegaoipgnqsy" bpmnElement="syd0j5yegaoipgnqsy">
        <omgdi:waypoint x="248.0" y="739.99994435907"/>
        <omgdi:waypoint x="248.0" y="834.99992623926"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="shape-syd0n0fr0d4q6fv811" bpmnElement="syd0n0fr0d4q6fv811">
        <omgdi:waypoint x="248.0" y="834.99992623926"/>
        <omgdi:waypoint x="50.0" y="834.99992623926"/>
        <omgdi:waypoint x="50.0" y="155.0"/>
        <omgdi:waypoint x="238.00001969933066" y="155.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="shape-syd0nuyyofo2z9u45y" bpmnElement="syd0nuyyofo2z9u45y">
        <omgdi:waypoint x="377.00012011824504" y="999.000017061828"/>
        <omgdi:waypoint x="377.00010628996824" y="1093.9999950826164"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="shape-syd0nu2qx4wh2xvq54" bpmnElement="syd0nu2qx4wh2xvq54">
        <omgdi:waypoint x="377.00010628996824" y="1093.9999950826164"/>
        <omgdi:waypoint x="377.00010628996824" y="1133.0000313669423"/>
        <omgdi:waypoint x="262.000100627528" y="1133.0000313669423"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="shape-syd0ojxk5xnhtnr9ue" bpmnElement="syd0ojxk5xnhtnr9ue">
        <omgdi:waypoint x="377.00010628996824" y="1093.9999950826164"/>
        <omgdi:waypoint x="497.0001576244663" y="1093.9999950826164"/>
        <omgdi:waypoint x="497.0001576244663" y="155.0"/>
        <omgdi:waypoint x="238.00001969933066" y="155.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="shape-syeeggd2xrwx80472i" bpmnElement="syeeggd2xrwx80472i">
        <omgdi:waypoint x="240.00001196563016" y="404.9999609142583"/>
        <omgdi:waypoint x="240.00010426341032" y="529.9999609142583"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="shape-syeehqxaz1j7hdob8" bpmnElement="syeehqxaz1j7hdob8">
        <omgdi:waypoint x="240.00010426341032" y="529.9999609142583"/>
        <omgdi:waypoint x="240.00010426341032" y="592.4999609142583"/>
        <omgdi:waypoint x="248.0" y="592.4999609142583"/>
        <omgdi:waypoint x="248.0" y="634.9999609142583"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="shape-syeehqilxnqt24fuji" bpmnElement="syeehqilxnqt24fuji">
        <omgdi:waypoint x="248.0" y="634.9999609142583"/>
        <omgdi:waypoint x="248.0" y="739.99994435907"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="shape-syeei6vxrntpix99dn" bpmnElement="syeei6vxrntpix99dn">
        <omgdi:waypoint x="248.0" y="634.9999609142583"/>
        <omgdi:waypoint x="404.0" y="634.9999609142583"/>
        <omgdi:waypoint x="404.0" y="189.0"/>
        <omgdi:waypoint x="238.00001969933066" y="155.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="shape-syevgdjer53o20eiam" bpmnElement="syevgdjer53o20eiam">
        <omgdi:waypoint x="238.00001969933066" y="155.0"/>
        <omgdi:waypoint x="238.00001969933066" y="212.4999878034008"/>
        <omgdi:waypoint x="240.00010426341032" y="212.4999878034008"/>
        <omgdi:waypoint x="240.00010426341032" y="279.9999756068016"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="shape-syew54e51vp8e5sq7m" bpmnElement="syew54e51vp8e5sq7m">
        <omgdi:waypoint x="248.0" y="834.99992623926"/>
        <omgdi:waypoint x="254.99983982743504" y="869.499971650544"/>
        <omgdi:waypoint x="254.99983982743504" y="869.499971650544"/>
        <omgdi:waypoint x="254.99983982743504" y="904.000017061828"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="shape-syew5si5dd1vjfyu" bpmnElement="syew5si5dd1vjfyu">
        <omgdi:waypoint x="254.99983982743504" y="904.000017061828"/>
        <omgdi:waypoint x="383.9999599456801" y="904.000017061828"/>
        <omgdi:waypoint x="377.00012011824504" y="999.000017061828"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="shape-syew5z3xdc68g6rfgy" bpmnElement="syew5z3xdc68g6rfgy">
        <omgdi:waypoint x="254.99983982743504" y="904.000017061828"/>
        <omgdi:waypoint x="254.99983982743504" y="1008.5000242143851"/>
        <omgdi:waypoint x="268.99994045496305" y="1008.5000242143851"/>
        <omgdi:waypoint x="262.000100627528" y="1133.0000313669423"/>
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</definitions>
